
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9bfabfbb-fe62-52ab-8f72-5190d7efc32b")}catch(e){}}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d7900dfb-23ed-425d-8ea2-3508ca74fdf7",e._sentryDebugIdIdentifier="sentry-dbid-d7900dfb-23ed-425d-8ea2-3508ca74fdf7")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40382],{530680:function(e,n,t){t.d(n,{d:function(){return s}});var i=t(222679),l=t(305017),o=t(527178),r=t(714313),a=t(674326);let d=[o._.home,o._.homeAlias],s=()=>{let{pathname:e}=(0,r.TH)(),n=d.includes((0,a.Cn)(e));return(0,i.y)(l.pc.cxWebStickyBenefitFooter,!1)&&n}},311275:function(e,n,t){t.d(n,{C:function(){return er}});var i,l,o=t(361967),r=t(313773),a=t(278884),d=t(299891),s=t(515663);(i=l||(l={})).CREDITS="credits",i.FDF="fdf",i.FNT="fairness_and_transparency",i.CAMPAIGN="campaign",i.DASHPASS="dashpass",i.EMERGENCY_OVERRIDE="emergency_override",i.BUDGET="budget",i.NONE="null";let u=[s._j.home,s._j.homeAlias,s._j.menu,s._j.convenienceStore,s._j.legoVerticalHomepage];var c=t(258314),m=t(674326),v=t(222679),p=t(976333),f=t(821753);let g=r.createContext({text:"",type:"",icon:""});var x=t(708194),y=t(22649),h=t(484497),E=t(655914),_=t(455639);let S="benefit_reminder",b=()=>({trackBenefitReminderShouldDisplay:(0,r.useCallback)(e=>{let n={container_id:(null==e?void 0:e.campaign_id)||"",container:S,page:null==e?void 0:e.placement_type,event_type:"view"};(0,_.j)("card_view",n),(0,_.j)("benefit_reminder_should_display",e)},[]),trackBenefitReminderClick:(0,r.useCallback)(e=>{let n={container_id:(null==e?void 0:e.campaignId)||"",container:S,page:null==e?void 0:e.placement_type,event_type:"click"};(0,_.j)("card_click",n),(0,_.j)("benefit_reminder_click",e)},[])});var C=t(614358),A=t(129101),T=t(305017),j=t(967994),I=t(159967),P=t(902093),R=t(509300),w=t(645827),N=t(431325),k=t(560930),M=e=>{let{text:n}=e;return(0,o.jsxs)(P.Z,{size:R.O8.xxSmall,alignItems:y.v2.center,children:[(0,o.jsx)(w.Z,{color:h.EY.brand.dashpass,type:h.IconType.LogoDashpassNew,size:N.J.small}),(0,o.jsx)(k.x,{textStyle:E.TextStyle.label.xSmall.default,color:E.d9.brand.dashpass,children:n})]})},D=t(970501),O=t(977548),L=t(822489);let Z=e=>(0,c.V)(e,s._j.home)||(0,c.V)(e,s._j.homeAlias)?D.TkE.BENEFIT_REMINDER_PLACEMENT_TYPE_HOME:(0,c.V)(e,s._j.convenienceStore)||(0,c.V)(e,s._j.menu)?D.TkE.BENEFIT_REMINDER_PLACEMENT_TYPE_STORE:(0,c.V)(e,s._j.legoVerticalHomepage)?D.TkE.BENEFIT_REMINDER_PLACEMENT_TYPE_VERTICAL:D.TkE.BENEFIT_REMINDER_PLACEMENT_TYPE_UNSPECIFIED,U=(e,n)=>{let t="";if((0,c.V)(n,s._j.legoVerticalHomepage)){let n=L.parse(e);t=(0,O.Ru)(n.cursor)||""}return t},F=e=>{let n;switch(e){case l.FDF:case l.CAMPAIGN:case l.DASHPASS:case l.EMERGENCY_OVERRIDE:n="deals/line";break;case l.BUDGET:n="payment/line";break;case l.CREDITS:n="card/doordash/color/line";case l.FNT:case l.NONE:}return n},H=e=>{var n,t,i,o,r,a,d,s,u,c,m,v,p,f,g,x,y,h,E,_;if(null==e)return null;if(e.hasOwnProperty("getBenefitReminder"))return null==e?void 0:e.getBenefitReminder;let S=null==e?void 0:null===(r=e.getPlacements)||void 0===r?void 0:null===(o=r.placements)||void 0===o?void 0:null===(i=o.placementSections)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(n=t.placementModels)||void 0===n?void 0:n[0];return{__typename:"GetBenefitReminderResponse",reminderTitle:(null==S?void 0:null===(a=S.title)||void 0===a?void 0:a.copy)||"",type:(null==S?void 0:null===(d=S.logging)||void 0===d?void 0:d.benefit_reminder_type)||l.NONE,icon:(null==S?void 0:null===(s=S.headIcon)||void 0===s?void 0:s.name)||null,metadata:{__typename:"BenefitReminderMetadata",amount:null==S?void 0:null===(u=S.logging)||void 0===u?void 0:u.credits_amount,isDisplay:null!=S,tracking:{...null==S?void 0:S.logging,type:null==S?void 0:null===(c=S.logging)||void 0===c?void 0:c.benefit_reminder_type,did_display:null!=S,placement_type:null==S?void 0:null===(m=S.logging)||void 0===m?void 0:m.location}},custom:{...null==S?void 0:S.custom,hasDismiss:(null==S?void 0:null===(v=S.custom)||void 0===v?void 0:v.manual_dismiss)||!1,subtitle:(null==S?void 0:null===(p=S.description)||void 0===p?void 0:p.copy)||"",action:{buttonText:null==S?void 0:null===(g=S.custom)||void 0===g?void 0:null===(f=g.terms)||void 0===f?void 0:f.action,description:null==S?void 0:null===(h=S.custom)||void 0===h?void 0:null===(y=h.terms)||void 0===y?void 0:null===(x=y.disclaimer)||void 0===x?void 0:x.text,title:null==S?void 0:null===(_=S.custom)||void 0===_?void 0:null===(E=_.terms)||void 0===E?void 0:E.title,type:"modal"}}}},G={backgroundColor:I.Q2.usage.color.highlight.default,textColor:E.d9.text.inverse.default},V={backgroundColor:I.Q2.base.color.brand.doordash[5],textColor:E.d9.brand.primary},B=(e,n)=>{let t=(0,A.q)(),i=(0,v.y)(T.pc.enableBenefitReminderUsiReskin,!1),a=(0,v.y)(T.pc.enableBenefitReminderFairnessAndTransparency,!1),d=e===l.FNT&&a;return r.useMemo(()=>{if(d){let e={backgroundColor:I.Q2.usage.color.background.default,textColor:E.d9.text.default,textStyle:E.TextStyle.label.medium.strong,subtextColor:E.d9.text.subdued.default};return(null==n?void 0:n.subtitle)&&(e.subtext=n.subtitle,e.subtextColor=E.d9.text.subdued.default),(null==n?void 0:n.isDashpass)&&(e.textColor=E.d9.brand.dashpass),e}return i?{backgroundColor:I.Q2.usage.color.background.default,textColor:E.d9.brand.primary,textStyle:E.TextStyle.label.medium.strong,subtext:e===l.DASHPASS?(0,o.jsx)(M,{text:"DashPass"}):void 0,iconName:F(e)}:t?V:G},[e,null==n?void 0:n.isDashpass,null==n?void 0:n.subtitle,i,t,d])};var Y=()=>{var e,n,t,i,a,d;let{trackBenefitReminderClick:s}=b(),u=r.useRef(""),[c,m]=r.useState(!1),p=(0,C.sL)(),f=r.useContext(g),_=(null==f?void 0:null===(n=f.custom)||void 0===n?void 0:null===(e=n.action)||void 0===e?void 0:e.title)||"",S=(null==f?void 0:null===(i=f.custom)||void 0===i?void 0:null===(t=i.action)||void 0===t?void 0:t.description)||"",I=_&&S,{addToast:P,removeToast:R}=(0,x.RG)(),w=(0,A.q)(),N=B(f.type,null==f?void 0:f.custom),k=(0,v.y)(T.pc.enableBenefitReminderFairnessAndTransparency,!1),M=f.type===l.FNT&&k,D=r.useCallback(()=>{var e,n;s({type:f.type,action:"click",...null==f?void 0:f.trackingData}),(null==f?void 0:null===(n=f.custom)||void 0===n?void 0:null===(e=n.action)||void 0===e?void 0:e.type)==="modal"&&I&&M&&m(!0)},[null==f?void 0:null===(d=f.custom)||void 0===d?void 0:null===(a=d.action)||void 0===a?void 0:a.type,null==f?void 0:f.trackingData,f.type,s,I,M]);return r.useEffect(()=>{if(f.type!==l.FNT||k){if(f&&f.text){var e,n;let t={text:f.text,iconName:null!==(n=f.icon)&&void 0!==n?n:"",isError:!1,...N,duration:3e4,styleOverride:{justifyContent:y.dy.center,zIndex:100,bottom:p}};f.type===l.FNT&&(null==f?void 0:null===(e=f.custom)||void 0===e?void 0:e.hasDismiss)&&(t.action={icon:h.IconType.Close,iconColor:h.EY.icon.subdued.default,color:E.d9.icon.subdued.default,onClick:()=>{s({type:f.type,action:"dismiss"}),R(u.current)}},t.onClick=D),u.current=P(t)}return()=>{u.current&&R(u.current)}}},[N,P,R,f,p,w,M,k,s,D]),c?(0,o.jsx)(j.Z,{"data-testid":"benefit-reminder-modal",modalProps:{label:_,description:S},onClick:()=>{m(!1)}}):null},z=t(290130),Q=e=>{var n;let{consumer:t,benefitReminderData:i}=e,{trackBenefitReminderShouldDisplay:a}=b(),[d,s]=r.useState({text:"",type:"",icon:null}),[u,c]=r.useState(!1),m=null==t?void 0:t.isGuest,v=(0,z.H)(),p=(null==t?void 0:null===(n=t.defaultAddress)||void 0===n?void 0:n.countryCode)||v,x=!!p,y=(0,f.Z)(p);return r.useEffect(()=>{if(x){let e=H(i),n=(null==e?void 0:e.reminderTitle)||"",t=(null==e?void 0:e.type)||l.NONE,o=null==e?void 0:e.icon,r=(null==e?void 0:e.metadata)||null,d=(null==r?void 0:r.isDisplay)||!1,u=null==r?void 0:r.tracking,m=null==e?void 0:e.custom;c(d&&!!n),n&&(s({text:n,type:t,icon:o,trackingData:u,custom:m}),a({...u,is_from_service:!0}))}},[x,i,y,m,a]),u?(0,o.jsx)(g.Provider,{value:d,children:(0,o.jsx)(Y,{})}):null},$=t(247345),q=t(714313),X=t(979994),W=t(860413),J=t(496922);function K(){let e=(0,X._)(["\n  query getBenefitReminder(\n    $placementType: BenefitReminderPlacementTypeMap!\n    $cursor: String\n    $teamId: String\n  ) {\n    getBenefitReminder(placementType: $placementType, cursor: $cursor, teamId: $teamId) {\n      reminderTitle\n      type\n      icon\n      metadata {\n        amount\n        isDisplay\n        tracking\n      }\n      custom {\n        isDashpass\n        subtitle\n        hasDismiss\n        action {\n          type\n          title\n          description\n          buttonText\n        }\n      }\n    }\n  }\n"]);return K=function(){return e},e}let ee=(0,W.gql)(K());var en=(e,n,t,i)=>(0,J.t)(ee,{...i,variables:{placementType:e,cursor:n,teamId:t},fetchPolicy:"network-only",nextFetchPolicy:"network-only"});let et=e=>{let{pathname:n,search:t}=(0,q.TH)(),i=(0,m.Cn)(n),l=(0,c.V)(i,s._j.home)||(0,c.V)(i,s._j.homeAlias),o=(0,v.y)(T.pc.webBenefitReminderApiMigration,!1),r=(0,$.fm)(e),a=en(Z(i),U(t,i),e);return l&&o?r:a},ei=e=>{let{consumer:n,isIncludingBudgetReminders:t=!1}=e,{experience:i}=(0,d.Z)(),{data:l,isLoading:a}=(0,p.j)({experience:i,isGuest:n.isGuest}),[s,{data:u,loading:c}]=et((null==l?void 0:l.id)||"");return r.useEffect(()=>{s()},[s]),r.useEffect(()=>{t&&!a&&s()},[t,a,s]),c?null:(0,o.jsx)(Q,{consumer:n,benefitReminderData:u})};var el=e=>{var n;let{consumer:t}=e,i=(null==t?void 0:null===(n=t.defaultAddress)||void 0===n?void 0:n.countryCode)||"",{pathname:l}=(0,q.TH)(),r=(0,m.Cn)(l),a=(0,c.V)(r,s._j.home)||(0,c.V)(r,s._j.homeAlias)||(0,c.V)(r,s._j.legoVerticalHomepage),d=(0,v.y)(T.pc.removeCountryCodeCheckBudgetReminder,!1);return a&&(d||i)?(0,o.jsx)(ei,{consumer:t,isIncludingBudgetReminders:!0}):(0,o.jsx)(ei,{consumer:t})},eo=t(530680),er=()=>{let{consumer:e,loading:n}=(0,a.R)(),{pathname:t}=(0,q.TH)(),{isStorefront:i}=(0,d.Z)(),l=(0,eo.d)();return!u.some(e=>(0,c.V)((0,m.Cn)(t),e))||i||n||l?null:(0,o.jsx)(el,{consumer:e})}},614358:function(e,n,t){t.d(n,{$N:function(){return o},sL:function(){return r}});var i=t(313773);let l=t(543315).Spacing.large,o=(0,i.createContext)({bottomPosition:void 0}),r=()=>{let{bottomPosition:e}=(0,i.useContext)(o);return null!=e?e:l}},381455:function(e,n,t){t.d(n,{LY:function(){return r},Uk:function(){return o},Vh:function(){return a}});var i=t(918564),l=t(990633);let o=i.default.div.withConfig({componentId:"sc-13e74920-0"})(["height:100vh;width:100vw;"]),r=(0,i.default)(o).withConfig({componentId:"sc-13e74920-1"})(["max-width:100%;"]),a=i.default.div.withConfig({componentId:"sc-13e74920-2"})(["height:calc(100vh - ","px);"],l.Mz)},537248:function(e,n,t){var i=t(361967);t(313773);var l=t(469894),o=t(571734),r=t(902297);let a=(0,l.default)(()=>t.e(9796).then(t.bind(t,209796)).then(e=>e.MaxCartsReachedModal),{loadableGenerated:{webpack:()=>[209796]},ssr:!1});n.Z=()=>{let{showMaxCartsModal:e,setShowMaxCartsModal:n}=(0,r.pR)(e=>({showMaxCartsModal:e.showMaxCartsModal,setShowMaxCartsModal:e.setShowMaxCartsModal}));return(0,i.jsx)(o.M,{children:e?(0,i.jsx)(a,{onClose:()=>{n(!1)}}):null})}},671844:function(e,n,t){t.d(n,{T:function(){return i}});let i="campaignDetails"},318688:function(e,n,t){t.d(n,{Sx:function(){return v},T1:function(){return c.T}});var i,l,o=t(979994),r=t(877182),a=t(860413),d=t(970501),s=t(538763),u=t(751313),c=t(671844);function m(){let e=(0,o._)(["\n  query campaignDetails(\n    $locale: String\n    $placementType: Int\n    $landingPageType: LandingPageType\n    $skipConsumerAnnouncements: Boolean!\n  ) {\n    ... @skip(if: $skipConsumerAnnouncements) {\n      consumerAnnouncements(\n        locale: $locale\n        placementType: $placementType\n        landingPageType: $landingPageType\n      ) {\n        id\n        title\n        body\n        showOnce\n        renderType\n        announcement {\n          desktopImage\n          mobileImage\n          contents {\n            text\n            styling {\n              font {\n                size\n                family\n              }\n              insets {\n                top\n                right\n                left\n                bottom\n              }\n              color\n              alignment\n              isUnderlined\n            }\n          }\n          primaryActionLabel\n          primaryAction\n        }\n      }\n    }\n  }\n"]);return m=function(){return e},e}(i=l||(l={}))[i.PLACEMENT_TYPE_INVALID=0]="PLACEMENT_TYPE_INVALID",i[i.PLACEMENT_TYPE_HOME_PAGE_ANNOUNCEMENT=14]="PLACEMENT_TYPE_HOME_PAGE_ANNOUNCEMENT",i[i.PLACEMENT_TYPE_STORE_PAGE_ANNOUNCEMENT=15]="PLACEMENT_TYPE_STORE_PAGE_ANNOUNCEMENT";let v={HOME:"home",STORE:"store",X_VERTICAL_HOME:"x-vertical-home"},p=(0,a.gql)(m());n.ZP=(e,n)=>{var t,i;let l=(0,s.bU)(),o="true"===(0,u.vQ)("dd_skip_announcement"),a=o||null!==(t=null==n?void 0:n.skip)&&void 0!==t&&t,c=o||null!==(i=null==n?void 0:n.overrideSkipConsumerAnnouncements)&&void 0!==i&&i,m=0,f=d.x2X.INVALID;return e===v.HOME?(m=14,f=d.x2X.DEFAULT_HOMEPAGE):e===v.X_VERTICAL_HOME?(m=14,f=d.x2X.HOMEPAGE):e===v.STORE&&(m=15),(0,r.a)(p,{skip:a,variables:{locale:l,placementType:m,landingPageType:f,skipConsumerAnnouncements:0===m||c},fetchPolicy:"network-only"})}},226741:function(e,n,t){t.d(n,{g:function(){return s}});var i=t(361967),l=t(313773),o=t(629702),r=t(699251),a=t(126974);let d=l.createContext(null),s=()=>{let e=l.useContext(d);if(!e)throw Error("useSaveStoresFirstTimeExperience hook must be used within SaveStoresFirstTimeExperienceContextProvider");return e};n.Z=e=>{let{children:n}=e,{enableSaveForLater:t}=(0,o.M)(),s=(0,r.XR)(),[u,c]=l.useState(()=>{let e=s.get(a.Zv);return null!=e&&e}),m=l.useRef(null),v=l.useCallback(()=>{c(!0),s.set(a.Zv,JSON.stringify(!1)),m.current=window.setTimeout(()=>{c(!1)},a.xy)},[s]);l.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=null)},[]);let p=l.useMemo(()=>({shouldShowTooltip:!!t&&u,showTooltipHandler:t?v:()=>{}}),[t,u,v]);return(0,i.jsx)(d.Provider,{value:p,children:n})}},332723:function(e,n,t){var i=t(714313),l=t(4501),o=t(469894);let r=(0,o.default)(()=>Promise.all([t.e(15687),t.e(50808),t.e(36904),t.e(2100)]).then(t.bind(t,202100)),{loadableGenerated:{webpack:()=>[202100]},ssr:!1}),a=(0,o.default)(()=>Promise.all([t.e(36904),t.e(14714)]).then(t.bind(t,14714)),{loadableGenerated:{webpack:()=>[14714]},ssr:!1});n.Z=()=>{let{query:e}=(0,i.tv)(),n=null==e?void 0:e.rewardsCardDashPassEnrollStatus,t=Number(n)===l.B.NOT_NOW?a:r;return{showModal:!!n,DashCardDashPassEnrollStatusModal:t}}},4501:function(e,n,t){var i,l,o,r;t.d(n,{B:function(){return i},R:function(){return l}}),(o=i||(i={}))[o.FAILURE=1]="FAILURE",o[o.FAILURE_DEFAULT_PAYMENT=2]="FAILURE_DEFAULT_PAYMENT",o[o.FAILURE_ENROLLMENT=3]="FAILURE_ENROLLMENT",o[o.SUCCESS=4]="SUCCESS",o[o.SUCCESS_CHANGE_FROM_PAID_DASHPASS=5]="SUCCESS_CHANGE_FROM_PAID_DASHPASS",o[o.SUCCESS_CHANGE_FROM_TRIAL_DASHPASS=6]="SUCCESS_CHANGE_FROM_TRIAL_DASHPASS",o[o.PARTIAL_SUCCESS=7]="PARTIAL_SUCCESS",o[o.PARTIAL_SUCCESS_CHANGE_FROM_PAID_DASHPASS=8]="PARTIAL_SUCCESS_CHANGE_FROM_PAID_DASHPASS",o[o.PARTIAL_SUCCESS_CHANGE_FROM_TRIAL_DASHPASS=9]="PARTIAL_SUCCESS_CHANGE_FROM_TRIAL_DASHPASS",o[o.LOADING=10]="LOADING",o[o.NOT_NOW=11]="NOT_NOW",(r=l||(l={})).NO_DASHPASS="none",r.PAID_DASHPASS="paid",r.TRIAL_DASHPASS="free_trial"},42677:function(e,n,t){t.d(n,{hL:function(){return v},Vm:function(){return m},ZP:function(){return f}});var i=t(361967);t(313773);var l=t(342388);let o=(0,t(277530).Z)(l.Z);var r=t(299482),a=t(214411),d=t(408039),s=t(169608);let u="DEBUG",c="Clear",m=e=>({command:u,type:"Cmd",payload:{action:e}}),v=()=>({command:u,type:c,payload:{}}),p=(0,r.Z)(s.Z,{Cmd:(e,n)=>n.payload.action?n.payload.action.command===u?p(e,n.payload.action):o(e,n.payload.action):e,Text:(e,n)=>{let t=(0,i.jsx)("p",{children:n.payload.value});return{...e,[u]:{...e[u],logs:[...e[u].logs,{type:u,value:t}]}}},Log:(e,n)=>{let t=(0,i.jsx)(a.Z,{text:n.payload.name,color:"blue",type:u,children:(0,i.jsx)(d.ri,{src:n.payload.json})},e.DEBUG.logs.length);return{...e,[u]:{...e[u],logs:[...e[u].logs,{type:u,value:t}]}}},[c]:e=>({...e,[u]:{actions:[],logs:[],settings:e[u].settings}})});var f={[u]:p}},169608:function(e,n,t){var i=t(352828),l=t(534280),o=t(826957);let r={...i.Q,...l.E,...o.T};n.Z=r},342388:function(e,n,t){var i=t(145981),l=t(641799);let o={...i.ZP,...l.ZP};n.Z=o},788578:function(e,n,t){t.d(n,{Z:function(){return S}});var i=t(361967),l=t(313773),o=t(469894),r=t(169608),a=t(42677),d=t(342388),s=(0,t(277530).Z)({...a.ZP,...d.Z}),u=t(612435),c=t.n(u),m=t(915226),v=t(699251),p=t(491798);let f=(0,o.default)(()=>t.e(13041).then(t.bind(t,813041)),{loadableGenerated:{webpack:()=>[813041]},ssr:!1}),g=(0,o.default)(()=>t.e(97864).then(t.bind(t,597864)),{loadableGenerated:{webpack:()=>[597864]},ssr:!1});var x=e=>{let{children:n,hasDebugModePermission:t,isDebugModeEnabled:o,setIsDebugModeEnabled:a}=e,[d,u]=l.useState(!1),{state:x,dispatch:y}=function(e,n,t){let[i,o]=(0,l.useReducer)(e,n),r=(0,m.Z)(i);return(0,l.useEffect)(()=>{try{let e=v.simpleStoreSession.get(t);e&&JSON.parse(e).map(o)}catch(e){return}},[o,t]),(0,l.useEffect)(()=>{try{if(!c()(r,i)){let e=JSON.stringify(i.DEBUG.actions);v.simpleStoreSession.set(t,e)}}catch(e){"sessionStorage"in window&&v.simpleStoreSession.delete(t)}},[i]),{state:i,dispatch:o}}(s,r.Z,"DEBUG_STORAGE"),h=l.useCallback(e=>{t&&o&&"`"===e.key&&u(e=>!e)},[t,o]);l.useEffect(()=>(document.addEventListener("keypress",h),()=>{document.removeEventListener("keypress",h)}),[h]);let E=l.useMemo(()=>({dispatch:y,enabled:o,setIsDebugModeEnabled:a}),[y,o,a]);return(0,i.jsxs)(p.E.Provider,{value:E,children:[d&&(0,i.jsx)(f,{dispatch:y,state:x}),t&&(0,i.jsx)(g,{enableDebugMode:o,setDebugMode:a,setIsTerminalOpen:u}),n]})},y=t(822489),h=t(222679),E=t(305017),_=()=>{let e=(0,h.y)(E.pc.cxWebDebugPermissions,!1),[n,t]=l.useState(!1),[i,o]=l.useState(!1);return l.useEffect(()=>{if(e){var n,i;let e=y.parse(null===(n=location)||void 0===n?void 0:n.search);o(!!(null==e?void 0:e.debugMode)),t(!0)}},[e]),{hasDebugModePermission:n,isDebugModeEnabled:i,setHasDebugModePermission:t,setIsDebugModeEnabled:o}},S=function(e){let{children:n,disableDebugMode:t}=e,{hasDebugModePermission:l,isDebugModeEnabled:o,setIsDebugModeEnabled:r}=_();return(0,i.jsx)(x,{hasDebugModePermission:!t&&l,isDebugModeEnabled:o,setIsDebugModeEnabled:r,children:n})}},277530:function(e,n,t){t.d(n,{Z:function(){return i}});function i(e){return(n,t)=>{var i;return{...n,...null==e?void 0:null===(i=e[t.command])||void 0===i?void 0:i.call(e,n,t)}}}},833004:function(e,n,t){var i,l;t.d(n,{n4:function(){return o}}),(l=i||(i={})).CUISINE="cuisine",l.SEARCH="search";let o="explore_page"},124071:function(e,n,t){t.d(n,{V:function(){return i},k:function(){return l}});let i=e=>{var n;return!e.loading&&!(null===(n=e.consumer)||void 0===n?void 0:n.defaultAddress)},l=e=>{var n,t;return!!e.loading||!!(null==e?void 0:null===(t=e.consumer)||void 0===t?void 0:null===(n=t.districtAvailability)||void 0===n?void 0:n.isDistrictActive)}},56827:function(e,n,t){t.d(n,{OE:function(){return m},Vc:function(){return x},Ws:function(){return v},YI:function(){return p},hX:function(){return g},xf:function(){return l},yU:function(){return c}}),t(751313);var i,l,o=t(699251),r=t(455639),a=t(833004),d=t(970501);t(444648);let s="ddweb-viewed-consumer-announcements",u="ddweb-displayed-consumer-announcement",c=e=>{let n=m(e);return(null==n?void 0:n.renderType)===d.jzC.RENDER_TYPE_FULL},m=e=>{if(o.simpleStoreSession.get(u)||!e||!e.length||!e[0])return null;let n=[...e],t=o.ZP.get(s);return t&&(n=n.filter(e=>-1===t.indexOf(e.id))),n.length?n[0]:null},v=e=>{if(!e||!e.id||(o.simpleStoreSession.set(u,"viewed"),!e.showOnce))return;let n=o.ZP.get(s)||[];-1===n.indexOf(e.id)&&n.push(e.id),o.ZP.set(s,n)};(i=l||(l={})).primary="primary",i.secondary="secondary";let p="dismiss",f=e=>{var n,t,i;return{tab:"home",container_id:e.id,container:"announcement",container_name:null===(i=e.announcement)||void 0===i?void 0:null===(t=i.contents)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.text,page:a.n4}},g=(e,n)=>{(0,r.j)("card_view",{...f(e),...n})},x=(e,n)=>{(0,r.j)("card_click",{...f(e),...n})}},490935:function(e,n,t){t.d(n,{Z:function(){return L},y:function(){return O}});var i=t(361967),l=t(313773),o=t(938122),r=t(249478),a=t(56827),d=t(211467),s=t(925170),u=t(970501),c=t(731690),m=t(560930),v=t(655914),p=t(232755),f=t(190510),g=t(117874),x=t(549736);let y="AnnouncementDismissButton";var h=t(918564),E=t(159967);let _=h.default.div.withConfig({componentId:"sc-325f8cf9-0"})([""," width:100%;position:relative;"],e=>{let{isMobile:n}=e;return n?"height: calc(100vh - ".concat(152,"px);"):"height: calc(100vh - ".concat(50,"px);")}),S=h.default.div.withConfig({componentId:"sc-325f8cf9-1"})(["max-height:100%;display:flex;flex-direction:column;justify-content:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);",""],e=>{let{isMobile:n}=e;return n?"\n        width: 100vw;\n        padding-bottom: 100px;\n      ":"\n        margin: auto;\n        max-width: ".concat(560,"px;\n        max-height: 100%;\n      ")}),b=h.default.div.withConfig({componentId:"sc-325f8cf9-2"})(["overflow-y:auto;overflow-x:hidden;"]),C=h.default.div.withConfig({componentId:"sc-325f8cf9-3"})(["> div{"," text-align:center;max-height:","px;overflow:hidden;> img{max-width:100%;max-height:","px;}}"],e=>{let{isMobile:n}=e;return n?"padding: ".concat(E.Q2.usage.space.medium,";"):""},256,256),A=(0,h.default)(p.Z).withConfig({componentId:"sc-325f8cf9-4"})(["",""],e=>{let{isMobile:n}=e;return n?"padding: ".concat(E.Q2.usage.space.small," ").concat(E.Q2.usage.space.medium,";"):"padding: ".concat(E.Q2.usage.space.large,";")}),T=h.default.div.withConfig({componentId:"sc-325f8cf9-5"})([""," & > button{margin-bottom:",";}& > button:last-child{margin-bottom:0;}"],e=>{let{isMobile:n}=e;return n?"\n        padding: ".concat(E.Q2.usage.space.small," ").concat(E.Q2.usage.space.medium,";\n        position: absolute;\n        bottom: ").concat(20,"px;\n        z-index: 1;\n        width: 100%;\n      "):"padding: ".concat(E.Q2.usage.space.medium," ").concat(E.Q2.usage.space.large,";")},E.Q2.usage.space.xSmall);var j=e=>{let{title:n,headerImage:t,contents:l,primaryAction:o,secondaryAction:r,isMobile:a,campaignId:d}=e,s=()=>(0,i.jsxs)(T,{isMobile:a,children:[o&&(0,i.jsx)(f.Z,{"data-anchor-id":o.isDismiss?y:"",size:g.qE.large,onClick:o.onClick,children:o.text}),r&&(0,i.jsx)(f.Z,{"data-anchor-id":r.isDismiss?y:"",size:g.qE.large,onClick:r.onClick,type:x.L$.flatSecondary,children:r.text})]});return(0,i.jsxs)(_,{isMobile:a,children:[(0,i.jsxs)(S,{isMobile:a,"data-mm-type":"announcement","data-mm-id":d,children:[(0,i.jsxs)(b,{children:[t&&(0,i.jsx)(C,{isMobile:a,children:t}),(0,i.jsxs)(A,{isMobile:a,children:[(0,i.jsx)(()=>(0,i.jsx)(m.x,{textStyle:a?v.TextStyle.display.medium:v.TextStyle.display.large,children:n}),{}),(0,i.jsx)(()=>l&&(0,i.jsx)(p.Z,{children:l.map((e,n)=>(0,i.jsx)(m.x,{color:v.d9.text.subdued.default,children:null==e?void 0:e.text},n))}),{})]})]}),!a&&(0,i.jsx)(s,{})]}),a&&(0,i.jsx)(s,{})]})},I=t(45918),P=t(74152),R=t(509300);let w=h.default.div.withConfig({componentId:"sc-87ee1328-0"})(["> div{height:",";max-height:","px;width:100%;overflow:hidden;> img{width:100%;}}"],e=>e.isMobile?"calc((100vw - ".concat(E.Q2.usage.space.medium,") / 2)"):"".concat(256,"px"),256),N=h.default.div.withConfig({componentId:"sc-87ee1328-1"})(["padding:0 ",";"],E.Q2.usage.space.large),k=h.default.div.withConfig({componentId:"sc-87ee1328-2"})(["padding-top:",";padding-bottom:",";padding-left:",";padding-right:",";"],E.Q2.usage.space.medium,e=>e.isMobile?E.Q2.usage.space.medium:E.Q2.usage.space.large,e=>e.isMobile?E.Q2.usage.space.medium:E.Q2.usage.space.large,e=>e.isMobile?E.Q2.usage.space.medium:E.Q2.usage.space.large);var M=e=>{let{title:n,headerImage:t,contents:o,primaryAction:r,secondaryAction:a,isMobile:d,campaignId:s}=e,u=()=>t?(0,i.jsx)(w,{isMobile:d,children:t}):null;return(0,i.jsx)(P.Z,{isOpen:!0,shouldAnimate:!0,shouldEnableLegacyConditionalRendering:!0,title:n,isFullScreenOnMobile:!1,actionsFillContainer:!0,hasContentPadding:!1,hasCloseButton:!1,renderContentHeader:e=>{let{title:n}=e;return(0,i.jsxs)(p.Z,{size:R.Uo.medium,children:[(0,i.jsx)(u,{}),(0,i.jsx)(N,{children:(0,i.jsx)(m.x,{textStyle:d?v.TextStyle.display.medium:v.TextStyle.display.large,children:n})})]})},children:(0,i.jsx)(k,{isMobile:d,"data-mm-type":"announcement","data-mm-id":s,children:(0,i.jsxs)(p.Z,{size:R.Uo.large,children:[(0,i.jsx)(()=>o&&(0,i.jsx)(l.Fragment,{children:o.map((e,n)=>{var t,l,o,r,a,d,s;return(0,i.jsx)(m.x,{fontFamily:null===(l=e.styling)||void 0===l?void 0:null===(t=l.font)||void 0===t?void 0:t.family,size:(null===(r=e.styling)||void 0===r?void 0:null===(o=r.font)||void 0===o?void 0:o.size)?"".concat(null===(a=e.styling)||void 0===a?void 0:a.font.size,"px"):void 0,color:(null===(d=e.styling)||void 0===d?void 0:d.color)||v.d9.text.subdued.default,textAlign:(null===(s=e.styling)||void 0===s?void 0:s.alignment)||I.H.left,children:null==e?void 0:e.text},n)})}),{}),(0,i.jsxs)(p.Z,{size:R.Uo.xSmall,children:[r&&(0,i.jsx)(f.Z,{"data-anchor-id":r.isDismiss?y:"",padding:x.aV.default,size:g.qE.large,onClick:r.onClick,children:r.text}),a&&(0,i.jsx)(f.Z,{"data-anchor-id":a.isDismiss?y:"",type:x.L$.flatSecondary,size:g.qE.large,onClick:a.onClick,children:a.text})]})]})})})},D=t(571734);let O=e=>{if(!e)return null;let{title:n,id:t,announcement:i}=e;return t&&i&&i.contents?{title:n||"",id:t,contents:i.contents.filter(e=>null!==e)}:null};var L=e=>{let{consumerAnnouncement:n,setFullPageAnnouncementOpen:t}=e,[m,v]=l.useState(!0),{isMobile:p}=(0,r.ac)();if(!m)return null;let f=(0,o.Z)(),g=O(n);if(!g)return null;let{announcement:x,renderType:y}=n,[h,...E]=g.contents,_=()=>{v(!1),t&&t(!1)},S=()=>{(0,a.Vc)(n,{action_button:a.xf.primary,action_url:(null==x?void 0:x.primaryAction)||a.YI,track_id:f}),(0,a.Ws)(n),(null==x?void 0:x.primaryAction)?window.location.href=null==x?void 0:x.primaryAction:_()},b=e=>{(0,a.Vc)(n,{action_button:e||a.xf.secondary,action_url:a.YI,track_id:f}),(0,a.Ws)(n),_()},C=null,A=null;(null==x?void 0:x.primaryActionLabel)?(C={text:null==x?void 0:x.primaryActionLabel,onClick:()=>S()},A={text:c.ZP.t("announcement_cancel"),onClick:()=>b(),isDismiss:!0}):C={text:c.ZP.t("announcement_gotIt"),onClick:()=>b(a.xf.primary),isDismiss:!0};let T=()=>{let e=p&&(null==x?void 0:x.mobileImage)?null==x?void 0:x.mobileImage:(null==x?void 0:x.desktopImage)||"";return e?(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:(0,d.O1)(e),alt:g.title})}):null};return(0,i.jsx)(s.Z,{forceStartCounter:!0,onImpression:()=>(0,a.hX)(n,{track_id:f}),children:(0,i.jsx)(D.M,{children:y===u.jzC.RENDER_TYPE_FULL?(0,i.jsx)(j,{headerImage:(0,i.jsx)(T,{}),title:(null==h?void 0:h.text)||"",contents:E,primaryAction:C,secondaryAction:A,isMobile:p,campaignId:g.id}):(0,i.jsx)(M,{headerImage:(0,i.jsx)(T,{}),title:(null==h?void 0:h.text)||"",contents:E,primaryAction:C,secondaryAction:A,isMobile:p,campaignId:g.id})})})}},661708:function(e,n,t){var i=t(199291),l=t(699251);n.Z=()=>{let e=(0,l.XR)(),{location:{searchParams:n}}=(0,i.yj)();return n.irclickid&&e.set("ddweb-growth-clickid",n.irclickid),null}},859982:function(e,n,t){t.d(n,{Z:function(){return b}});var i=t(361967),l=t(313773),o=t(822489),r=t(714313),a=t(318688),d=t(56827),s=t(490935),u=t(455639),c=t(55648),m=t(877182),v=t(979994);function p(){let e=(0,v._)(["\n  query V1RedeemPromo($promoCode: String!) {\n    v1RedeemPromo(promoCode: $promoCode) {\n      __typename\n      purpose\n    }\n  }\n"]);return p=function(){return e},e}let f=(0,t(860413).gql)(p()),g=e=>(0,m.a)(f,e),x="redeem_promo_code",y=()=>{let{query:e}=(0,r.tv)(),n=e.promo_code,[t,i]=(0,l.useState)(!!n);return g({variables:{promoCode:null!=n?n:""},skip:!n,onCompleted:e=>{var t;let l=null===(t=e.v1RedeemPromo)||void 0===t?void 0:t.purpose;(0,u.j)(x,{success:!!l,code:n,reason:l}),i(!1)},onError:e=>{let t=(0,c.e$)(e),l=(0,c.zg)(e);(0,u.j)(x,{success:!1,code:n,reason:"".concat(l,": ").concat(t)}),i(!1)}}),{shouldWaitForRedeemPromo:t}};var h=t(247345),E=t(222679),_=t(305017),S=t(201872),b=e=>{var n,t,u,c;let{skip:m,children:v,overrideSkipConsumerAnnouncements:p}=e,{shouldWaitForRedeemPromo:f}=y(),{search:g}=(0,r.TH)(),x=(0,o.parse)(g),b=(null==x?void 0:x[S.r.CAMPAIGN_ID])||void 0,C=Array.isArray(b)?b[0]:b,A=(null==x?void 0:x[S.r.REFERRER_TYPE])||void 0,T=Array.isArray(A)?A[0]:A,j=(0,E.y)(_.pc.getAnnouncementsFromGetPlacements,!1),I=(0,a.ZP)(a.Sx.X_VERTICAL_HOME,{skip:!!m||f||j,overrideSkipConsumerAnnouncements:!!p}),[P,{data:R}]=(0,h.IV)({campaignId:C,referrerType:T});l.useEffect(()=>{!m&&j&&P()},[m,P,j]);let[w,N]=l.useState(!0),[k,M]=l.useState(!1);if(m)return(0,i.jsx)(l.Fragment,{children:v});let D=(null!==(u=null==R?void 0:null===(n=R.getPlacements)||void 0===n?void 0:n.announcements)&&void 0!==u?u:[]).filter(e=>null!==e),O=null!==(c=j?D:null==I?void 0:null===(t=I.data)||void 0===t?void 0:t.consumerAnnouncements)&&void 0!==c?c:[],L=(0,d.yU)(O),Z=(0,d.OE)(O),U=!!(0,s.y)(Z);return Z&&L&&U?w?(0,i.jsx)(s.Z,{consumerAnnouncement:Z,setFullPageAnnouncementOpen:()=>N(!1)}):(0,i.jsx)(l.Fragment,{children:v}):(0,i.jsxs)(l.Fragment,{children:[v,Z&&!k&&U?(0,i.jsx)(s.Z,{consumerAnnouncement:Z,setFullPageAnnouncementOpen:()=>M(!0)}):null]})}},893300:function(e,n,t){t.d(n,{Ek:function(){return g}});var i=t(361967),l=t(313773),o=t(775846),r=t.n(o),a=t(222679),d=t(305017),s=t(82282),u=t(890119),c=e=>{let[n,t]=(0,l.useState)(!1),[i,o]=(0,l.useReducer)(e=>e+1,0);return(0,l.useEffect)(()=>{if(e){let e=setTimeout(()=>{t(!0)},1e5);return()=>{t(!1),clearTimeout(e)}}},[e,i]),{isTtlExpired:n,handleTtlRestart:o}},m=t(42823),v=t(729724),p=t(455639);let f=l.createContext({}),g=e=>{let{children:n}=e,{entry:t,filters:o,dispatchEvent:g}=(0,s.cX)(),x=r()(Object.values(o)),y=t===m.Dw.HOME_PAGE,h=(0,a.y)(d.pc.cxWebHomepagePaginationTtl,!1),{isTtlExpired:E,handleTtlRestart:_}=c(h&&y&&!x),S=l.useCallback(()=>{g((0,u.AK)(),{}),(0,p.j)("card_click",{page_type:v.G.LegoHomeSSR,card_name:"see-more",use_case:"ttl-expired"}),_()},[g,_]);return(0,i.jsx)(f.Provider,{value:{isTtlExpired:h&&E,onTtlExpired:S},children:n})}},9583:function(e,n,t){t.d(n,{Z:function(){return k}});var i=t(361967),l=t(313773),o=t(801401),r=t(708194),a=t(543315),d=t(918821),s=t(159967),u=t(730288),c=t(892690),m=t(560930),v=t(918564),p=t(392117);let f=(0,v.keyframes)(["from{transform:translateY(",");opacity:0;}to{transform:translateY(0);opacity:1;}"],a.Spacing.small),g=v.default.div.withConfig({componentId:"sc-f95c7a37-0"})(["position:fixed;bottom:",";left:50vw;transform:translateX(-50%);z-index:",";"],e=>e.bottom?e.bottom:a.Spacing.large,e=>e.zIndex?e.zIndex:p.UL),x=(0,v.default)(d.Z).attrs(()=>({size:a.Spacing.large,isSquished:!0})).withConfig({componentId:"sc-f95c7a37-1"})([""," padding:"," ",";background:",";border-radius:",";box-shadow:",";display:inline-flex;min-height:",";animation:",";animation-fill-mode:both;& > *{width:100%;}width:calc(100vw - ",");@media screen and (min-width:","px){width:max-content;}"],e=>{let{onClick:n}=e;return n?"cursor: pointer;":""},a.Spacing.medium,a.Spacing.medium,e=>{let{backgroundColor:n}=e;return n||s.Q2.usage.color.background.inverse.pressed},e=>{let{borderRadius:n}=e;return n||s.Q2.usage.borderRadius.medium},u.Z.Medium,a.Spacing.xxLarge,(0,v.css)([""," 300ms ease-in-out"],f),a.Spacing.xLarge,c.u3.mobile),y=(0,v.default)(m.x).withConfig({componentId:"sc-f95c7a37-2"})(["white-space:normal;"]);var h=t(645827),E=t(484497),_=t(232755),S=t(509300),b=t(655914),C=t(902093),A=t(22649),T=t(190510),j=t(549736),I=t(409959);let P={Text:"text",Subtext:"subtext"};var R=e=>{let{action:n,backgroundColor:t,iconName:l,text:o,textColor:r,textStyle:a,onClick:d,styleOverride:u,subtext:c,subtextColor:v}=e,p=void 0!==n&&(void 0!==n.text||void 0!==n.icon)&&"function"==typeof n.onClick,f=l?(0,I.OU)(l):null;return(0,i.jsx)(x,{"data-testid":"toast-view",onClick:d,backgroundColor:t,role:"alert","aria-live":"off",borderRadius:null==u?void 0:u.borderRadius,children:(0,i.jsxs)(C.Z,{alignItems:A.v2.center,justifyContent:(null==u?void 0:u.justifyContent)||A.dy.spaceBetween,size:S.O8.xSmall,children:[(0,i.jsx)(()=>f?(0,i.jsx)(h.Z,{color:r||E.EY.text.inverse.default,type:f}):null,{}),(0,i.jsx)(()=>c?(0,i.jsxs)(_.Z,{size:S.Uo.none,children:[(0,i.jsx)(m.x,{"data-testid":P.Text,textStyle:a||b.TextStyle.label.medium.default,color:r||b.d9.text.inverse.default,children:o}),"string"==typeof c?(0,i.jsx)(m.x,{"data-testid":P.Subtext,textStyle:b.TextStyle.label.xSmall.default,color:v||b.d9.text.inverse.default,children:c}):c]}):(0,i.jsx)(m.x,{"data-testid":P.Text,textStyle:a||b.TextStyle.label.medium.default,color:r||b.d9.text.inverse.default,children:o}),{}),p&&(0,i.jsxs)(T.Z,{isInline:!0,type:j.L$.flatPrimary,onClick:e=>{null==n||n.onClick(),e.stopPropagation()},padding:j.aV.none,children:[(null==n?void 0:n.text)&&(0,i.jsx)(y,{color:(null==n?void 0:n.color)||s.Q2.usage.color.text.inverse.default,textStyle:b.TextStyle.label.medium.strong,children:n.text}),!(null==n?void 0:n.text)&&(null==n?void 0:n.icon)&&(0,i.jsx)(h.Z,{type:n.icon,color:(null==n?void 0:n.iconColor)||E.EY.icon.inverse.default})]})]})})},w=()=>{let{toasts:e,bottomSpacing:n}=(0,r.RG)(),t=e[e.length-1];if(t){var l,o;return(0,i.jsx)(g,{zIndex:null==t?void 0:null===(l=t.styleOverride)||void 0===l?void 0:l.zIndex,bottom:n||(null==t?void 0:null===(o=t.styleOverride)||void 0===o?void 0:o.bottom),"data-anchor-id":"AppToast",children:(0,i.jsx)(R,{...t},t.toastId)})}return null},N=t(699251),k=e=>{let{children:n}=e,t=(0,N.XR)(),[a,d]=l.useState({}),s=l.useRef(a);s.current=a;let u=l.useRef({}),[c,m]=l.useState(),v=l.useCallback(e=>{if(!s.current[e])return;let n=u.current[e];window.clearTimeout(n),delete u.current[e],d(n=>{let t={...n};return delete t[e],s.current=t,t})},[]),p=l.useCallback(e=>{let{duration:n,...t}=e,i=(0,o.l)();d({...s.current,[i]:t});let l=window.setTimeout(()=>{v(i)},n);return u.current[i]=l,i},[v]),f=l.useMemo(()=>({addToast:p,removeToast:v,toasts:Object.entries(a).map(e=>{let[n,t]=e;return{...t,toastId:n}}),bottomSpacing:c,setBottomSpacing:m}),[p,v,a,c,m]);return l.useEffect(()=>()=>{Object.values(u.current).map(window.clearTimeout)},[]),l.useEffect(()=>{let e="",n=t.get(r.Uw.isError),i=t.get(r.Uw.duration),l=t.get(r.Uw.text),o=t.get(r.Uw.iconName);return Number(i)&&!isNaN(Number(i))&&l&&o&&void 0!==n&&(e=p({isError:!!n,duration:Number(i),text:l,iconName:o}),Object.values(r.Uw).forEach(e=>{t.delete(e)})),()=>{e&&v(e)}},[p,v,t]),(0,i.jsxs)(r.ZP,{contextValues:f,children:[n,(0,i.jsx)(w,{})]})}},589910:function(e,n,t){t.d(n,{C:function(){return r},M:function(){return o}});var i=t(222679),l=t(305017);let o=()=>(0,i.AY)(l.pc.woltLiveCountries,"").split(","),r=()=>(0,i.y)(l.pc.enableWoltLiveCountries,!1)}}]);
//# sourceMappingURL=40382-4baddc4b731f80e3.js.map
//# debugId=9bfabfbb-fe62-52ab-8f72-5190d7efc32b
